<service>
  <id>psc</id>
  <name>Pravega Sensor Collector</name>
  <description>Pravega Sensor Collector collects data from sensors and ingests the data into Pravega streams</description>
  <executable>"C:/Program Files/Java/jdk-11/bin/java"</executable>
  <arguments>-Xmx512m -jar "windows-service\PSCFiles\pravega-sensor-collector-0.2.14.jar"</arguments>
  <logpath>windows-service\logs</logpath>

  <env name="HOME" value="C:\Users\username" />
  <env name="CREATE_SCOPE" value="false" />
  <env name="ROUTING_KEY" value="routingkey1" />
  <env name="ENABLE_PRAVEGA" value="true" />
  <env name="pravega_client_auth_method" value="Bearer" />
  <env name="pravega_client_auth_loadDynamic" value="true" />
  <env name="KEYCLOAK_SERVICE_ACCOUNT_FILE" value="\opt\pravega-sensor-collector\windows-service\PSCFiles\keycloak.json" />  
  <env name="PRAVEGA_SENSOR_COLLECTOR_PARQ1_CLASS" value="io.pravega.sensor.collector.parquet.ParquetFileIngestService" />
  <env name="PRAVEGA_SENSOR_COLLECTOR_PARQ1_FILE_SPEC" value="\opt\pravega-sensor-collector\ParquetFiles" />
  <env name="PRAVEGA_SENSOR_COLLECTOR_PARQ1_DATABASE_FILE" value="\opt\pravega-sensor-collector\windows-service\PSCFiles\datafile.db" />
  <env name="PRAVEGA_SENSOR_COLLECTOR_PARQ1_SAMPLES_PER_EVENT" value="200" />
  <env name="PRAVEGA_SENSOR_COLLECTOR_PARQ1_PRAVEGA_CONTROLLER_URI" value="tls://pravega-controller.sdp.cluster1.sdp-demo.org:443" />
  <env name="PRAVEGA_SENSOR_COLLECTOR_PARQ1_SCOPE" value="project1" />
  <env name="PRAVEGA_SENSOR_COLLECTOR_PARQ1_STREAM" value="stream-p" />
  <env name="PRAVEGA_SENSOR_COLLECTOR_PARQ1_ROUTING_KEY" value="routingkey1" />
  <env name="PRAVEGA_SENSOR_COLLECTOR_PARQ1_DELETE_COMPLETED_FILES" value="false" />
  <env name="PRAVEGA_SENSOR_COLLECTOR_PARQ1_TRANSACTION_TIMEOUT_MINUTES" value="2.0" />
  <env name="PRAVEGA_SENSOR_COLLECTOR_PARQ1_CREATE_SCOPE" value="false" />
  
  <!-- Location of "bin/winutils.exe" -->
  <env name="HADOOP_HOME" value="%HOME%\dev" /> 
  
  <logmode>rotate</logmode>
  <onfailure action="restart"/>
  <stopparentprocessfirst>true</stopparentprocessfirst>
</service>
